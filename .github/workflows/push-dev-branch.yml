---
on:
  push:
    branches:
      - dev

jobs:
  ci:
    name: CI
    uses: DarylStark/slough-gha-wf-container-projects/.github/workflows/ci.yml@main
  # This 'CD' job deploys to the development environment.
  cd:
    name: CD
    uses: DarylStark/slough-gha-wf-container-projects/.github/workflows/cd.yml@main
    needs: ci
    with:
      container-repository: dast1986
      container-name: slough-dev-dc-java
      platforms: linux/amd64
    secrets:
      DOCKER_USERNAME: ${{ secrets.DOCKER_USERNAME }}
      DOCKER_PASSWORD: ${{ secrets.DOCKER_PASSWORD }}
